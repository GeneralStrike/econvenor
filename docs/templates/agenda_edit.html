{% extends "app_base.html" %}
{% load setclass %}
{% load staticfiles %}

{% block content %}

  <div class="row">


    <!-- SIDEBAR
    ================================================== -->

    <div class="col-sm-3 sidebar">
      <h1>Agenda</h1>
      
      <ul class="nav nav-sidebar">
        <li>
          <a href="#meeting_details" class="tltip" data-toggle="tooltip"
            data-placement="top" title="Scroll to meeting details">
              Meeting details
          </a>
        </li>
      </ul>
      
      <div id="ajax-sidebar">
      </div>
             
      <ul class="nav nav-sidebar">
        <li>
          <a href="#tasks" class="tltip" data-toggle="tooltip" 
            data-placement="top" title="Scroll to tasks">
              Attachment 1. Tasks
          </a>
        </li>
      </ul>
      
      <ul class="nav nav-sidebar">
        <li>
          <button type="button" class="btn btn-primary ajax-button" 
            id="save_button">
              Save all
          </button>
        </li>
        <li>
          <button type="button" class="btn btn-primary ajax-button" 
            id="add_item">
              Add item
          </button>
        </li>
        <li>
          <button type="button" class="btn btn-primary navigate-button"
            goto="{% url 'minutes-edit' meeting_id %}" id="minutes_button">
              Create minutes
          </button>
        </li>
        <li>
          <button type="button" class="btn btn-primary navigate-button"
            goto="{% url 'agenda-distribute' meeting_id %}" 
            id="distribute_button">
              Distribute this agenda
          </button>
        </li>
      </ul>
       
    </div><!-- /.col-sm-3 -->

    <div class="col-sm-7 col-sm-offset-4 main">

      <div class="top-spacer">
      </div>
  
      
    <!-- AJAX FORMS
    ================================================== -->
    
      <div id="ajax-main">
      </div>
      
    <!-- TASKS TABLE
    ================================================== -->

      <div class="well" id="tasks">
        <h1><small>Appendix 1 - Tasks</small></h1>
        <h2><small>Tasks outstanding</small></h2>
	    
	    <div class="panel panel-primary">
		  <table class="table">
		    <thead>
			  <tr>
			    {% for heading in task_list_headings %}
				  <th>{{ heading }}</th>
                {% endfor%}
			  </tr>
		    </thead>
		    <tbody> 
			  {% for task in incomplete_task_list %}
			    <tr>
				  <td>{{ task.description }}</td>
                  <td>{{ task.participant }}</td>
				  <td>{{ task.deadline }}</td>
			    </tr>
			  {% empty %}
			    <tr>
			      <td>None</td>
			    </tr>
			  {% endfor%}
		    </tbody>
		  </table>
	    </div><!-- /.panel -->

	    <h2><small>Tasks completed since last meeting</small></h2>
	    <div class="panel panel-primary">
		  <table class="table">
			<thead>
			  <tr>
				{% for heading in task_list_headings %}
				  <th>{{ heading }}</th>
				{% endfor%}
			  </tr>
			</thead>
			<tbody> 
			  {% for task in completed_task_list %}
				<tr>
				  <td>{{ task.description }}</td>
				  <td>{{ task.participant }}</td>
			      <td>{{ task.deadline }}</td>
				</tr>
			  {% empty %}
			    <tr>
				  <td>None</td>
				</tr>
			  {% endfor%}
			</tbody>
		  </table>
  	    </div><!-- /.panel -->
	  </div><!-- /.well -->
      
      <div class="bottom-spacer">
      </div>
          
    </div><!-- /.col-sm-7 -->
  </div><!-- ./row>

{% endblock content%}


{% block extrajs %}

<script src="{% static 'js/econvenor-ajax.js' %}"></script>

{% endblock extrajs %}



